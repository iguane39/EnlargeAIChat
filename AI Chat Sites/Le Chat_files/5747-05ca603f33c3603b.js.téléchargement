try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a29a8509-c172-42f8-8d54-a49cc57a01dc",e._sentryDebugIdIdentifier="sentry-dbid-a29a8509-c172-42f8-8d54-a49cc57a01dc")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5747],{8492:(e,t,n)=>{n.d(t,{A:()=>l,DesktopProvider:()=>_});var s=n(64784),a=n(12330),r=n(8380);let o=(0,r.createContext)(void 0);function i(e){let{children:t}=e,n=(0,a.useRouter)(),{desktopApi:s}=l();if(!s)throw Error("DesktopHandlers should only be used on desktop");return(0,r.useEffect)(()=>{let e=()=>{n.push("/chat")};return s.handlers.newChat.on(e),()=>{s.handlers.newChat.off(e)}},[n,s]),t}function _(e){let{desktopEnvironment:t,children:n}=e,a=(0,r.useMemo)(()=>({...t,desktopApi:window.__LE_CHAT_DESKTOP__?window.__LE_CHAT_DESKTOP__:null}),[t]);return(0,s.jsx)(o.Provider,{value:a,children:a.isDesktop&&a.desktopApi?(0,s.jsx)(i,{children:n}):n})}let l=()=>{let e=(0,r.useContext)(o);if(!e)throw Error("useDesktop must be used within a DesktopProvider");return e}},8866:(e,t,n)=>{n.d(t,{f:()=>o,n:()=>i});var s=n(8380),a=n(8672),r=n(35111);let o={AUDIO_CANCEL_RECORDING:"audio.cancel_recording",AUDIO_ERROR:"audio.error",AUDIO_SEND_RECORDING:"audio.send_recording",AUDIO_START_RECORDING:"audio.start_recording",CANVA_CLOSE_BUTTON:"canva.close_button",CANVA_COPY_BUTTON:"canva.copy_button",CANVA_EXPORT:"canva.export",CANVA_EXPORT_BUTTON:"canva.export_button",CANVA_NEXT_VERSION:"canva.next_version",CANVA_PREVIEW_PANEL_BUTTON:"canva.preview_panel_button",CANVA_PREVIOUS_VERSION:"canva.previous_version",CANVA_REFERENCE_OPENED:"canva.reference_opened",CANVA_RENDER_PREVIEW:"canva.render_preview",CANVA_SHARE_BUTTON:"canva.share_button",CHANGED_MESSAGE_VERSION:"changed_message_version",CHAT_COMPLETION_ERROR:"chat_completion_error",CMDK_OPEN:"cmdk_open",CMDK_VISIT_PAGE:"cmdk_visit_page",COPIED_MESSAGE:"copied_message",COPIED_MESSAGE_CODE_BLOCK:"copied_message_code_block",COPY_IMAGE_BUTTON:"copy_image_button",COPY_TABLE_SUCESS:"message.copy_table.success",COPY_TABLE_ERROR:"message.copy_table.error",COPY_USER_SELECTION:"message.copy_user_selection",MESSAGE_USER_SELECTION:"message.user_selection",DISMISSED_ANSWER_PREFERENCE_PROMPT:"dismissed_answer_preference_prompt",DISMISSED_ANSWER_REACTION_DETAIL:"dismissed_answer_reaction_detail",DOWNLOAD_IMAGE_BUTTON:"download_image_button",EDITED_PROMPT:"edited_prompt",FEATURE_TOGGLED:"feature_toggled",FOLLOWUP_CLICKED:"followup.clicked",FOLLOWUP_HOVERED:"followup.hovered",INDEXING_CONNECT_WORKFLOW:"indexing.connect_workflow.started",INTEGRATIONS_CONNECT:"integrations.connect",INTEGRATIONS_RECONNECT:"integrations.reconnect",MEMORY_CREATED:"memory.created",MEMORY_DELETED:"memory.deleted",MEMORY_IMPORTED:"memory.imported",MEMORY_OPT_IN:"memory.opt_in",MEMORY_OPT_OUT:"memory.opt_out",MEMORY_SEARCHED:"memory.searched",MEMORY_TOGGLED:"memory.toggled",MEMORY_UPDATED:"memory.updated",MEMORY_UPDATED_IN_CHAT_TOOLTIP:"memory.updated_in_chat_tooltip",MESSAGE_INPUT_DOCUMENT_LIBRARY_SEARCH:"message_input.document_library.search",MESSAGE_INPUT_DOCUMENT_LIBRARY_SELECTION:"message_input.document_library.selection",MESSAGE_INPUT_DOCUMENT_UPLOAD_FROM_LIBRARY:"message_input.document_upload_from_library",MESSAGE_INPUT_FEATURES_DESELECTION:"message_input.features.deselection",MESSAGE_INPUT_FEATURES_SELECTION:"message_input.features.selection",MESSAGE_INPUT_INTEGRATIONS_DESELECTION:"message_input.integrations.deselection",MESSAGE_INPUT_INTEGRATIONS_SELECTION:"message_input.integrations.selection",MESSAGE_INPUT_RICH_INPUT_ERROR:"message_input.rich_input.error",PAGE_VIEW:"page_view",PROJECT_CHAT_OPEN:"project.chat_open",PROJECT_LIBRARY_CREATED:"project.library.created",PROMPT_SUBMITTED:"prompt_submitted",REFERENCE_CLICKED:"reference.clicked",REFERENCE_HOVERED:"reference.hovered",RETRIED_ANSWER:"retried_answer",REWROTE_ANSWER:"rewrote_answer",SEARCH_MODAL_CLOSED:"search_modal_closed",SELECT_PLAN_CTA_CLICKED:"select_plan_cta_clicked",SHARED_CHAT:"shared_chat",STARTING_EDIT_AFTER_ERROR:"starting_edit_after_error",SUGGESTION_PROMPT_SUBMITTED:"suggestion.prompt_submitted",SUGGESTION_INTEGRATION_CONNECTED:"suggestion.integration_connected",UPGRADE_CTA_CLICKED:"upgrade_cta_clicked"},i=()=>{let{mutate:e}=r.api.event.sendEventToDatalake.useMutation(),{mutate:t}=r.api.event.sendMessageEventToDatalake.useMutation(),n=(0,s.useCallback)((t,n)=>{e({name:t,properties:null!=n?n:{}})},[e]),o=(0,s.useCallback)((e,s)=>{let{chat_id:r,message_id:o,message_version:i,..._}=s;(0,a.u)(r)||(0,a.u)(o)||(0,a.u)(i)?n(e,_):t({name:e,chatId:r,messageId:o,messageVersion:i,properties:_})},[n,t]);return{track:n,trackMessageEvent:o}}},9360:(e,t,n)=>{n.d(t,{P:()=>o});var s=n(73415),a=n(94663);let r=(0,s.vt)()(e=>({sidePanelAnnouncementMode:!1,setSidePanelAnnouncementMode:t=>e(e=>({sidePanelAnnouncementMode:t})),openUsageLimitDialog:!1,setOpenUsageLimitDialog:t=>e(e=>({openUsageLimitDialog:t})),openShareDialog:!1,setOpenShareDialog:t=>e(e=>({openShareDialog:t})),sidePanelChatMode:"history",setSidePanelChatMode:t=>e(e=>({sidePanelChatMode:t})),messagesLimitDialog:{open:!1},setMessagesLimitDialog:t=>e(e=>({messagesLimitDialog:t})),editMessageId:null,setEditMessageId:t=>e(e=>({editMessageId:t})),referencesPanelMsgData:null,setReferencesPanelMsgData:t=>e(e=>({referencesPanelMsgData:t})),abortControllerByChatId:{},setAbortControllerByChatId:(t,n)=>{e(e=>({abortControllerByChatId:{...e.abortControllerByChatId,[t]:n}}))},unsetAbortControllerByChatId:t=>{e(e=>{let n={...e.abortControllerByChatId};return delete n[t],{abortControllerByChatId:n}})},isGeneratingByChatId:{},setIsGeneratingByChatId:(t,n)=>{e(e=>({isGeneratingByChatId:{...e.isGeneratingByChatId,[t]:n}}))},anonymousChatId:void 0,setAnonymousChatId:t=>e(e=>({anonymousChatId:t})),numberAnonymousMessages:0,setOrIncrementNumberAnonymousMessages:t=>e(e=>void 0!==t?{numberAnonymousMessages:t}:{numberAnonymousMessages:e.numberAnonymousMessages+1})})),o=(0,a.L)(r)},24783:(e,t,n)=>{n.r(t),n.d(t,{ButtonLink:()=>m});var s=n(64784),a=n(5936),r=n(6016),o=n(15548),i=n(63929),_=n.n(i),l=n(8380),d=n(75429),E=n(88318),c=n(30063);let u=(0,l.createContext)({isPending:!1,setIsPending:()=>{}});function C(e){let{children:t}=e,[n,a]=(0,l.useState)(!1),r=(0,l.useMemo)(()=>({isPending:n,setIsPending:a}),[n,a]);return(0,s.jsx)(u.Provider,{value:r,children:t})}function m(e){var t;let{isDisabled:n,children:a,variant:r,shape:o,size:i,mode:m,className:T,icon:I,...p}=e,A=(0,l.useContext)(d.ZD),N=(0,c.eX)(a,{tailIcon:d.qF,leadIcon:d.IM,tooltip:d.GM}),O=null!=(t=null==A?void 0:A.styles)?t:(0,d.ru)({shape:o,size:i,mode:m,variant:r});return(0,s.jsx)(C,{children:(0,s.jsx)(u.Consumer,{children:e=>{let{isPending:t}=e;return(0,s.jsx)(d.kf.Provider,{value:{styles:O},children:N.tooltip?(0,s.jsxs)(E.m_,{children:[(0,s.jsx)(E.k$,{asChild:!0,children:(0,s.jsx)(_(),{"aria-disabled":n,"aria-busy":t,className:(0,c.cn)(O.base({className:T})),onClick:e=>{n&&e.preventDefault()},...p,children:(0,s.jsx)(g,{mode:m,icon:I,styles:O,slots:N})})}),N.tooltip]}):(0,s.jsx)(_(),{"aria-disabled":n,"aria-busy":t,className:(0,c.cn)(O.base({className:T})),onClick:e=>{n&&e.preventDefault()},...p,children:(0,s.jsx)(g,{mode:m,icon:I,styles:O,slots:N})})})}})})}function g(e){let{mode:t,icon:n,styles:_,slots:d}=e,E=(0,i.useLinkStatus)(),{isPending:c,setIsPending:C}=(0,l.useContext)(u);return(0,l.useEffect)(()=>{C(E.pending)},[E.pending,C]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.N,{children:c&&(0,s.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.15}},className:_.spinner(),children:(0,s.jsx)(o.A,{className:"size-4 animate-spin"})})}),"icon-only"===t?(0,l.createElement)(n,{className:_.onlyIcon()}):(0,s.jsxs)(s.Fragment,{children:[d.leadIcon,d.main,d.tailIcon]})]})}},32638:(e,t,n)=>{n.d(t,{N:()=>o});var s=n(64784),a=n(93706),r=n(54736);let o=e=>{let t=(0,a.c3)("Chat");return(0,s.jsx)(r.N,{...e,path:"/signup",children:t("auth.sign_up_text")})}},52907:(e,t,n)=>{n.d(t,{v:()=>s.ButtonLink});var s=n(24783)},54736:(e,t,n)=>{n.d(t,{N:()=>_});var s=n(64784),a=n(42573),r=n(75429),o=n(8492),i=n(9360);let _=e=>{let{children:t,onClick:n,path:_="/login",returnTo:l,size:d="xs",...E}=e,{desktopApi:c}=(0,o.A)(),{value:u,setTrue:C,setFalse:m}=(0,a.Cg)(!1);(0,a.Z3)(()=>{m()},u?1e3:null);let g=i.P.use.anonymousChatId(),T=null!=l?l:g?"/chat/".concat(g):void 0,I=T?"".concat(_,"?return_to=").concat(T):_;return(0,s.jsx)(r.$n,{isLoading:u,size:d,...E,onClick:()=>{C(),null==n||n(),c?c.login({returnTo:T}):window.location.href=I},children:t})}},68669:(e,t,n)=>{n.d(t,{M:()=>o});var s=n(64784),a=n(93706),r=n(54736);let o=e=>{let t=(0,a.c3)("Chat");return(0,s.jsx)(r.N,{...e,path:"/login",variant:"ghost",children:t("auth.sign_in_text")})}},75747:(e,t,n)=>{n.d(t,{MessageRateLimitDialog:()=>m});var s=n(64784),a=n(93034),r=n(58196),o=n(93706),i=n(30817),_=n(52907),l=n(8424),d=n(75429),E=n(8866),c=n(9360),u=n(68669),C=n(32638);function m(e){var t;let{session:n}=e,m=(0,o.c3)("Chat"),g=(0,o.c3)("Billing.upgrade"),T=c.P.use.messagesLimitDialog(),I=c.P.use.setMessagesLimitDialog(),p=(0,o.kc)(),{track:A}=(0,E.n)();return(0,s.jsx)(l._s,{open:T.open,onOpenChange:e=>{e||I({open:e})},children:(0,s.jsx)(l.zj7,{children:(0,s.jsxs)("div",{className:"mx-auto w-full max-w-2xl py-10",children:[(0,s.jsxs)(l.BE9,{children:[(0,s.jsx)(l.gkR,{className:"text-2xl",children:m("usage_limit.title")}),(0,s.jsxs)(l.I6p,{children:[m("usage_limit.description")," ",T.retryAfterSeconds&&(0,s.jsx)("span",{className:"text-sm",children:m("usage_limit.reset",{resetTime:p.relativeTime((0,a.p)(new Date,null!=(t=T.retryAfterSeconds)?t:0))})})," ",n&&!n.isLeChatPro&&(n.leChatPlan===i._C.TEAM?(0,s.jsx)("span",{children:m("usage_limit.teamRequestSeatNudge")}):(0,s.jsx)("span",{children:m("usage_limit.proNudge")})),!n&&(0,s.jsx)("span",{children:m("usage_limit.loginNudge")})]})]}),(0,s.jsxs)(l.tbu,{className:"flex-row justify-end pt-4",children:[n&&!n.isLeChatPro&&n.leChatPlan!==i._C.TEAM&&(0,s.jsxs)(_.v,{href:"/upgrade",onClick:()=>{A(E.f.UPGRADE_CTA_CLICKED,{source:"message_rate_limit_reached"}),I({open:!1})},children:[(0,s.jsx)(d.IM,{icon:r.A}),g("title")]}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.M,{onClick:()=>I({open:!1})}),(0,s.jsx)(C.N,{onClick:()=>I({open:!1})})]})]})]})})})}},94663:(e,t,n)=>{n.d(t,{L:()=>s});let s=e=>{for(let t of(e.use={},Object.keys(e.getState())))e.use[t]=()=>e(e=>e[t]);return e}}}]);